spring:
  application:
    name: hot-search-ai-platform
  datasource:
    url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:hot_search_ai}?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&allowPublicKeyRetrieval=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:dfy042005}

  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
    show-sql: false
  data:
    redis:
      database: 0
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:dfy042005}
      timeout: 5s
  cache:
    type: redis
    redis:
      time-to-live: 600000 # 10分钟过期 (600000ms = 10分钟)
      key-prefix: "hotsearch:"
      use-key-prefix: true
hotsearch:
  bilibili:
    api-url: ${HOTSEARCH_BILIBILI_API_URL:https://api.bilibili.com/x/web-interface/ranking/v2?rid=0&type=all}
    max-items: ${HOTSEARCH_BILIBILI_MAX_ITEMS:50}
    max-retry-attempts: ${HOTSEARCH_BILIBILI_MAX_RETRY_ATTEMPTS:2}
    base-delay-ms: ${HOTSEARCH_BILIBILI_BASE_DELAY_MS:2000}
    proxies: ${HOTSEARCH_BILIBILI_PROXIES:}
  request-interval-ms: 500

dashscope:
  api:
    key: ${DASHSCOPE_API_KEY:sk-f7e2cf5faa1a49fc9f4013e85f004744}
    base-url: ${DASHSCOPE_API_BASE_URL:https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation}
    model: ${DASHSCOPE_API_MODEL:qwen-turbo}  # 支持文本生成的快速模型

logging:
  level:
    org.xiaobuding.hotsearchaiplatform: INFO